{% extends 'base.html.twig' %}

{% block title %}Liste des groupes de compétences{% endblock %}

{% block body %}

    <section class="container">
        <div class="index-controls">
            <div>
                <p class="fil-ariane"><span>Liste des groupes de compétences </span> - {{ "now"|date("d/m/Y") }}</p>
                <h1>Liste des groupes de compétences</h1>
            </div>
            <a class="button" href="{{ 'groupe_competences/add' }}"><i class="fa-solid fa-plus"></i></a>
        </div>

        {# gestion des images #}
        {% set images = ['espace.png','graphisme.png', 'langue.png',
            'logique.png', 'nature.png', 'sport.png'] %}

        <article class="gc-box">
            {% for groupe_competences in groupes_competences %}
                <div class="card-competence">
                    <a href="{{ path('show_groupe_competences', {'id': groupe_competences.id}) }}">
                        <div class="card-competence-text">
                            <figure>
                                {# choisir les images en fonction du titre, à parfaire #}
                                {% if 'logique' in groupe_competences.titre | lower
                                or 'mathématique' in groupe_competences.titre | lower
                                or 'arithmétique' in groupe_competences.titre | lower
                                or 'calcul' in groupe_competences.titre | lower
                                or 'algèbre' in groupe_competences.titre | lower
                                %}
                                    <img src="{{ asset('assets/img/competence/logique.png' ) }}" alt="{{ groupe_competences.titre }}" />
                                {% elseif 'langue' in groupe_competences.titre | lower
                                    or 'mots' in groupe_competences.titre | lower
                                    or 'communication' in groupe_competences.titre | lower
                                    or 'language' in groupe_competences.titre | lower
                                    or 'expression' in groupe_competences.titre | lower
                                %}
                                    <img src="{{ asset('assets/img/competence/langue.png' ) }}" alt="{{ groupe_competences.titre }}" />
                                {% elseif 'sport' in groupe_competences.titre | lower
                                    or 'corporelle' in groupe_competences.titre | lower
                                    or 'ballon' in groupe_competences.titre | lower
                                    or 'velo' in groupe_competences.titre | lower
                                    or 'courir' in groupe_competences.titre | lower
                                %}
                                    <img src="{{ asset('assets/img/competence/sport.png' ) }}" alt="{{ groupe_competences.titre }}" />
                                {% elseif 'graphisme' in groupe_competences.titre | lower
                                    or 'artistique' in groupe_competences.titre | lower
                                    or 'art' in groupe_competences.titre | lower
                                    or 'peinture' in groupe_competences.titre | lower
                                    or 'doigts' in groupe_competences.titre | lower
                                    or 'crayon' in groupe_competences.titre | lower
                                    or 'collage' in groupe_competences.titre | lower
                                %}
                                    <img src="{{ asset('assets/img/competence/graphisme.png' ) }}" alt="{{ groupe_competences.titre }}" />
                                {% elseif 'nature' in groupe_competences.titre | lower
                                    or 'plante' in groupe_competences.titre | lower
                                    or 'extérieur' in groupe_competences.titre | lower
                                    or 'outils' in groupe_competences.titre | lower
                                    or 'jardin' in groupe_competences.titre | lower
                                    or 'fleur' in groupe_competences.titre | lower
                                    or 'graine' in groupe_competences.titre | lower
                                %}
                                    <img src="{{ asset('assets/img/competence/nature.png' ) }}" alt="{{ groupe_competences.titre }}" />
                                {% elseif 'géographique' in groupe_competences.titre | lower
                                    or 'espace' in groupe_competences.titre | lower
                                    or 'monde' in groupe_competences.titre | lower
                                    or 'multiculturel' in groupe_competences.titre | lower
                                    or 'carte' in groupe_competences.titre | lower
                                    or 'repérer' in groupe_competences.titre | lower
                                    or 'montagne' in groupe_competences.titre | lower
                                    or 'village' in groupe_competences.titre | lower
                                    or 'ville' in groupe_competences.titre | lower
                                    or 'maison' in groupe_competences.titre | lower
                                %}
                                    <img src="{{ asset('assets/img/competence/espace.png' ) }}" alt="{{ groupe_competences.titre }}" />
                                {% else %}
                                    {# image de base #}
                                    <img src="{{ asset('assets/img/competence/0-sophi.png' ) }}" alt="{{ groupe_competences.titre }}" />
                                {% endif %}
                            </figure>
                            <h2>
                                {{ groupe_competences.titre }}
                            </h2>
                            <p>
                                <b>Description :</b><br> {{ groupe_competences.description }}
                            </p>
                        </div>

                    </a>
                    <ul class="card-competence-controls">
                        <li>
                            <a class="button btn-update"
                               href="{{ path('update_groupe_competences', {'id': groupe_competences.id}) }}"><i class="fa-solid fa-circle-info"></i> Info</a>
                        </li>
                        <li>
                            <a class=" button btn-update"
                               href="{{ path('show_nonComp', {'id': groupe_competences.id}) }}"><i class="fa-solid fa-pen-to-square"></i> Modifier</a>
                        </li>
                        <li>
                            <a class=" button btn-delete"
                               href="{{ path('delete_groupe_competences', {'id': groupe_competences.id}) }}"><i class="fa-solid fa-trash"></i> Supprimer</a>
                        </li>
                    </ul>
                </div>
            {% endfor %}
        </article>

    </section>

{% endblock %}